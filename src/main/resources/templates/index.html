<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: base_head (_, ~{}, ~{})"></head>
<body>
<div th:include="fragments/layout :: navBar"></div>
<div class="container my-5">
  <div class="row">
    <div class="col-md-5">
      <h3>Messages
        <span style="float:right"><a href="/messages/add" class="btn btn-primary">add new</a></span>
      </h3>
      <table class="table mt-3">
        <thead>
        <tr>
          <th style="width: 3%">#</th>
          <th>Content</th>
          <th style="width: 4%">Edit</th>
          <th style="width: 4%">Delete</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="noticeMessage : ${messages}">
          <td th:text="${noticeMessage.id}"></td>
          <td th:text="${noticeMessage.content}"></td>
          <td><form th:action="@{/messages/{id}/edit(id=${noticeMessage.id})}" th:method="get">
              <button type="submit" class="btn btn-primary fa fa-pencil-square-o"></button></form></td>
          <td>
            <form th:action="@{/messages/delete}" th:object="${noticeMessage}" th:method="post">
              <input  type="text" name="id" th:value="${noticeMessage.id}" hidden>
              <input  type="text" name="content" th:value="${noticeMessage.content}" hidden>
              <button style="float:right" type="submit" class="btn btn-primary fa fa-minus-square"></button></form></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>
</body>
</html>
